<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Introduction to TypeScript</title>

    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/simple-molily.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/monokai.css">

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
<!-- ###################################################################### -->

<section>
  <h1>
    Introduction to
    <svg height="130" viewBox="0 0 216.5 51.9" style="display: block; margin: 20px auto">
      <title>TypeScript</title>
      <path fill="currentColor" d="M48 11.6L35.4 43.4c-2.3 5.7-5.4 8.5-9.5 8.5-1.1 0-2.1-.1-2.9-.3v-3.9c.9.3 1.8.5 2.6.5 2.2 0 3.9-1.3 5-4l2.2-5.2-10.7-27.4H27l7.4 21.1c.1.3.3 1 .6 2.1h.2c.1-.4.3-1.1.5-2l7.8-21.2zm7.4 23.5h-.1v16.6h-4.4v-40h4.4v4.8h.1c2.2-3.6 5.3-5.5 9.5-5.5 3.5 0 6.3 1.2 8.3 3.7 2 2.5 3 5.7 3 9.9 0 4.6-1.1 8.3-3.3 11-2.2 2.7-5.3 4.1-9.2 4.1-3.6 0-6.3-1.5-8.3-4.6zM55.3 24v3.8c0 2.3.7 4.2 2.2 5.8 1.5 1.6 3.3 2.4 5.6 2.4 2.7 0 4.7-1 6.3-3.1 1.6-2.1 2.3-4.9 2.3-8.5 0-3.1-.7-5.4-2.1-7.2-1.4-1.7-3.3-2.6-5.7-2.6-2.6 0-4.6.9-6.2 2.7-1.6 1.8-2.4 4-2.4 6.7zm48 2.4H83.9c.1 3.1.9 5.4 2.5 7.1 1.6 1.7 3.7 2.5 6.5 2.5 3.1 0 5.9-1 8.5-3.1V37c-2.4 1.8-5.6 2.6-9.6 2.6-3.9 0-6.9-1.2-9.1-3.7-2.2-2.5-3.3-6-3.3-10.5 0-4.3 1.2-7.7 3.6-10.4 2.4-2.7 5.4-4 9-4 3.6 0 6.4 1.2 8.3 3.5 2 2.3 2.9 5.5 2.9 9.7v2.2zm-4.5-3.7c0-2.5-.6-4.5-1.8-5.9-1.2-1.4-2.9-2.1-5-2.1s-3.8.7-5.3 2.2c-1.4 1.5-2.3 3.4-2.7 5.8zm6.9 15v-3c2.8 1.8 5.5 2.6 8.4 2.6 3 0 5.3-.6 6.8-1.9 1.6-1.2 2.3-3 2.3-5.2 0-2-.5-3.5-1.6-4.7-1-1.2-3.3-2.8-6.8-4.8-3.9-2.3-6.4-4.2-7.4-5.7s-1.6-3.3-1.6-5.3c0-2.7 1.1-5 3.2-6.9 2.1-1.9 4.9-2.8 8.4-2.8 2.3 0 4.6.4 6.9 1.2V4c-2.3-1-4.7-1.5-7.2-1.5-2.6 0-4.7.7-6.2 2s-2.3 3-2.3 5 .5 3.5 1.6 4.7c1 1.2 3.3 2.7 6.8 4.7 3.6 2 6 3.8 7.2 5.4 1.2 1.6 1.8 3.4 1.8 5.5 0 2.9-1 5.3-3.1 7.2-2 1.9-4.9 2.8-8.7 2.8-1.3 0-2.8-.2-4.6-.6-1.6-.5-2.9-1-3.9-1.5zm43.5.1c-2 1.2-4.5 1.9-7.3 1.9-3.7 0-6.7-1.3-9-3.8-2.3-2.6-3.4-5.9-3.4-10.1 0-4.4 1.3-7.9 3.9-10.7 2.6-2.8 5.9-4.2 9.9-4.2 2.1 0 4.1.4 6.1 1.3V15c-2-1.2-4.1-1.8-6.5-1.8-3.2 0-5.8 1.2-7.8 3.5s-3 5.3-3 9c0 3.6.9 6.4 2.7 8.6 1.8 2.2 4.2 3.2 7.2 3.2 2.7 0 5.1-.7 7.2-2.2zm16.6-23.6c-.8-.6-1.8-.9-2.9-.9-2.2 0-4 1.1-5.4 3.3-1.5 2.2-2.2 5.4-2.2 9.5V39h-2.4V11.6h2.4v6.1h.1c.6-2.1 1.6-3.7 3-4.9 1.4-1.2 2.9-1.7 4.7-1.7 1 0 1.9.2 2.7.5zm4.2-9.5c-.5 0-1-.2-1.4-.6-.4-.4-.6-.9-.6-1.5s.2-1.1.6-1.4c.4-.4.9-.5 1.4-.5.6 0 1 .2 1.5.5.4.4.6.8.6 1.4 0 .6-.2 1.1-.6 1.5-.5.4-.9.6-1.5.6zm-1.2 34.4V11.7h2.5v27.4zm11.1-4.9h-.1v17.5h-2.5v-40h2.5v5.7h.1c1-2 2.4-3.6 4.2-4.7 1.8-1.1 3.8-1.6 6-1.6 3.5 0 6.2 1.2 8.2 3.6 2 2.4 2.9 5.7 2.9 9.8 0 4.6-1.1 8.3-3.4 11.1-2.2 2.8-5.2 4.2-8.9 4.2-4-.1-7-1.9-9-5.6zm-.1-10.2v3.5c0 2.8.9 5.1 2.6 7.1 1.7 2 4 3 6.8 3s5.1-1.2 6.8-3.6c1.7-2.4 2.6-5.6 2.6-9.5 0-3.4-.8-6.2-2.4-8.2-1.6-2-3.8-3-6.4-3-3.2 0-5.7 1.1-7.4 3.2-1.7 2.1-2.6 4.6-2.6 7.5zm36.7 14.7c-1.3.6-2.5.9-3.6.9-4.1 0-6.1-2.4-6.1-7.3V13.9h-4.9v-2.3h4.9V4.5c.4-.1.8-.3 1.2-.4.4-.1.8-.3 1.2-.4v8h7.2V14h-7.2v18.1c0 1.9.3 3.3.9 4.1.6.8 1.6 1.3 3 1.3 1 0 2.1-.3 3.3-1v2.2zM26.7 4.7H15.6V39h-4.5V4.7H0V.6h26.6v4.1z"/>
    </svg>
  </h1>
  <p style="font-size: 80%">Mathias SchÃ¤fer<br>9elements<br>2019-05-08</p>
</section>

<section>
  <h1>First, letâ€™s talk about JavaScript (ECMAScript).</h1>
</section>

<section>
  <h1>ECMAScriptâ€™s type system</h1>
  <h2><span style="display: inline-block; transform: scaleX(-1)"> ğŸ§šğŸ»â€â™‚ï¸</span> Weak <span>ğŸ§šğŸ»â€â™‚ï¸</span></h2>
  <h2><span style="display: inline-block; transform: scaleX(-1)"> ğŸƒğŸ¾â€â™€ï¸</span> Dynamic <span>ğŸƒğŸ¾â€â™€ï¸</span></h2>
</section>

<section>
  <h1><span style="display: inline-block; transform: scaleX(-1)"> ğŸ§šğŸ»â€â™‚ï¸</span> Weak vs. strong typing <span>ğŸ‹ğŸ½â€â™€ï¸</span></h1>
  <p>Weak: Implicit type conversions</p>
  <p>Strong: Explicit conversion necessary</p>
  <p><small>(Disclaimer: There are several definitions and criteria.)</small></p>
</section>

<section>
  <h1><span style="display: inline-block; transform: scaleX(-1)"> ğŸ§šğŸ»â€â™‚ï¸</span> ECMAScript:<br>Implicit type conversions</h1>

<pre><code data-trim>
> 5 + "5"
'55'
> 5 + "a"
NaN
</code></pre>
</section>

<section>
  <h1><span>ğŸ‹ğŸ½â€â™€ï¸</span> Ruby:<br>Explicit conversion necessary</h1>
<pre><code data-trim>
> 5 + "5"
TypeError: String can't be coerced into Integer
from (pry):1:in `+'
> 5 + "a"
TypeError: String can't be coerced into Integer
from (pry):2:in `+'
> 5 + Integer("5", 10)
=> 10
> 5.to_s + "a"
=> "5a"
</code></pre>
</section>

<section>
  <h1><span>ğŸ§˜ğŸ¾â€â™€ï¸</span> Static vs. dynamic typing <span>ğŸƒğŸ¾â€â™€ï¸</span></h1>
  <p>Static: A variable may only hold values of a certain type</p>
  <p>Dynamic: A variable may hold arbitrary values</p>
  <p><small>(Disclaimer: There are several definitions and criteria.)</small></p>
</section>

<section>
  <h1><span style="display: inline-block; transform: scaleX(-1); transform-origin: 50% 50%"> ğŸƒğŸ¾â€â™€ï¸</span> Dynamic typing ğŸƒğŸ¾â€â™€ï¸</h1>
  <p>The type of a variable is not known at compile time</p>
  <p>Type may change at runtime</p>
  <p>Type needs to be checked at runtime</p>
</section>

<section>
  <h1>Type changes at runtime</h1>
<pre><code class="javascript" data-trim>
let age = 56;
age = "fifty-six";
</code></pre>
  <p style="font-size: 5rem">ğŸ¤·ğŸ»â€â™€ï¸</p>
</section>

<section>
  <h1>Type check at runtime</h1>
  <pre><code class="javascript" data-trim>
let age = 56;
age(); // TypeError: age is not a function
</code></pre>
</section>

<section>
  <h1><span style="display: inline-block; transform: scaleX(-1); transform-origin: 50% 50%"> ğŸ§˜ğŸ¾â€â™€ï¸</span> Static typing <span>ğŸ§˜ğŸ¾â€â™€ï¸</span></h1>
  <p>The type of a variable is known at compile time</p>
  <p>Type may not change at runtime</p>
  <p>Type may be checked at compile time</p>
</section>

<section>
  <h1><span>ğŸ§˜ğŸ¾â€â™€ï¸</span> Rust:<br>Type check at compile time</h1>
<pre><code class="rust" data-trim>
fn main() {
  let mut x = 56;
  x = "fifty-six";
}
</code></pre>
</section>

<section>
  <h1><span>ğŸ§˜ğŸ¾â€â™€ï¸</span> Rust:<br>Type check at compile time</h1>
<pre><code data-trim>
error[E0308]: mismatched types
 --> src/main.rs:3:9
  |
3 |     x = "fifty-six";
  |         ^^^^^^^^^^^ expected integer, found reference
  |
  = note: expected type `{integer}`
             found type `&'static str`
</code></pre>
</section>

<section>
  <h1><span>ğŸ‹ğŸ½â€â™€ï¸</span> <span>ğŸ§˜ğŸ¾â€â™€ï¸</span> Benefits of strong & static</h1>
  <p>Developer productivity</p>
  <p>Explicit, readable, self-documenting code</p>
  <p>Catch a certain bugs early</p>
  <p>Helps with complex logic</p>
</section>

<section>
  <h1>ECMAScript types</h1>
  <p>Primitive types:<br>Undefined, Null, Boolean, Number, String, Symbol.</p>
  <p>Complex type:<br>Object.</p>
</section>

<section>
  <h1>Built-in Object types</h1>
  <p>Object, Function, Error, Date, RegExp, Array, typed arrays, (Weak)Map, (Weak)Set, Promiseâ€¦</p>
  <p>Boxed primitives (Boolean, Number, String)</p>
</section>

<section>
  <h1>TypeScript</h1>
  <p>A language that compiles to ECMAScript</p>
  <p>TypeScript adds type information</p>
  <p>A superset (extension) of ECMAScript</p>
  <p>All valid ECMAScript is valid TypeScript</p>
  <p>Open source project by Microsoft</p>
</section>

<section>
  <h1>TypeScript Compiler</h1>
  <p>Take *.ts files</p>
  <p>Type checks</p>
  <p>Translate to the ECMAScript target version</p>
  <p>Output *.js files</p>
</section>

<section>
  <h1>Playground</h1>
  <p><a href="https://www.typescriptlang.org/play/" target="_blank">typescriptlang.org/play/</a></p>
</section>

<section>
  <h1>Example</h1>
<pre><code class="typescript" data-trim>
let a = 1;
let b = 2;
let c = a + b;
let d = false;
let e = "Garfield";
</code></pre>
  <p style="font-size: 200%">ğŸ§ ğŸ’¡</p>
</section>

<section>
  <h1>Type annotations</h1>
<pre><code class="typescript" data-trim>
let a: number = 1;
let b: number = 2;
let c: number = a + b;
let d: boolean = false;
let e: string = "Garfield";
</code></pre>
</section>

<section>
  <h1>Type inference</h1>
  <p>All values have a type</p>
  <p>A variable or property has an implicit or explicit type</p>
  <p>Type annotations are optional</p>
  <p>The compiler <em>infers</em> the type logically</p>
</section>

<section>
  <h1>Implicit types</h1>
<pre><code class="typescript" data-trim>
const height = 1.7;
console.log(height.toFixed(2));
console.log(height.startsWith("1"));
</code></pre>
<p><em style="color: darkred">Property 'startsWith' does not exist on type '1.7'.</em></p>
</section>

<section>
  <h1>Implicit types</h1>
<pre><code class="typescript" data-trim>
const cat = { name: 'Garfield' };
// Inferred type: { name: string; }
console.log(cat.name);
console.log(cat.age);
</code></pre>
<p><em style="color: darkred">Property 'age' does not exist on type<br>'{ name: string; }'.</em></p>
</section>

<section>
  <h1>Array types</h1>
<pre><code class="typescript" data-trim>
const cats = [
  'Grumpy Cat', 'Maru', 'Lil Bub'
];
</code></pre>

<pre><code class="typescript" data-trim>
const cats: string[] = [
  'Grumpy Cat', 'Maru', 'Lil Bub'
];
</code></pre>

<p><code>string[]</code> means array of strings</p>
</section>

<section>
  <h1>Array types</h1>
  <pre><code class="typescript" data-trim>
const cats = [
  'Grumpy Cat', 'Maru', 'Lil Bub'
];
cats.push(12345);
</code></pre>
  <p><em style="color: darkred">Argument of type '12345' is not assignable to parameter of type 'string'.</em></p>
</section>

<section>
  <h1>Function type annotations</h1>
<pre><code class="javascript" data-trim>
const sum = (a, b) =>
  a + b;
</code></pre>
<pre><code class="typescript" data-trim>
const sum = (a: number, b: number): number =>
  a + b;
</code></pre>
</section>

<section>
  <h1>Parameter type check</h1>
<pre><code class="typescript" data-trim>
const sum = (a: number, b: number): number =>
  a + b;
console.log(sum(5, '5'));
</code></pre>

<p><em style="color: darkred">Argument of type '"5"' is not assignable to parameter of type 'number'.</em></p>
</section>

<section>
  <h1>Classes</h1>
<pre><code class="typescript" data-trim>
class Cat {
  // Declare instance property
  name: string;
  constructor(name: string) {
    this.name = name;
  }
  meow(): void {
    console.log(`${this.name} says meow!`);
  }
}
const garfield = new Cat('Garfield');
garfield.meow();
</code></pre>
</section>

<section>
  <h1>Public vs. private properties</h1>
<pre><code class="typescript" data-trim data-line-numbers="3">
class Cat {
  // Declare instance property
  private name: string;
  constructor(name: string) {
    this.name = name;
  }
  meow(): void {
    console.log(`${this.name} says meow!`);
  }
}
const garfield = new Cat('Garfield');
garfield.meow();
</code></pre>
</section>

<section>
  <h1>Public vs. private properties</h1>
<pre><code class="typescript" data-trim>
const garfield = new Cat('Garfield');
garfield.meow();
console.log(garfield.name);
</code></pre>
<p><em style="color: darkred">Property 'name' is private and only accessible within class 'Cat'.</em></p>
</section>

<section>
  <h1>Public vs. private methods</h1>
<pre><code class="typescript" data-trim>
class Cat {
  private name: string;
  constructor(name: string) {
    this.name = this.sanitizeName(name);
  }
  private sanitizeName(name: string): string {
    return name.replace(/[^a-zA-Z]/g, '');
  }
  public meow(): void {
    console.log(`${this.name} says meow!`);
  }
}
</code></pre>
</section>

<section>
  <h1>Public vs. private methods</h1>
<pre><code class="typescript" data-trim>
const garfield = new Cat('Garfield!');
garfield.meow(); // Garfield says meow!
garfield.sanitizeName();
</code></pre>
  <p><em style="color: darkred">Property 'sanitizeName' is private and only accessible within class 'Cat'.</em></p>
</section>

<section>
  <h1>Type definitions</h1>
  <p>TypeScript knows ECMAScriptâ€™s built-in types</p>
  <p>Host environments: Node.js and browsers</p>
  <p>Type definitions for libraries &amp; frameworks (e.g. DefinitelyTyped)</p>
</section>

<section>
  <h1>Own type definitions</h1>
  <p>TypeScript allows to define custom types</p>
  <p>Combining and modifying other types</h1>
  <p>AKA algebraic data types</p>
</section>

<section>
  <h1>Interfaces</h1>
  <p>Defines the abstract shape of an object</p>
<pre><code class="typescript" data-trim>
interface CatOwner {
  name: string;
  birthday: Date;
  cats: Cat[];
  adoptCat: (cat: Cat) => void
}
</code></pre>
</section>

<section>
  <h1>Interface usage</h1>
  <pre><code class="typescript" data-trim>
const jon: CatOwner = {
  name: 'Jon Arbuckle',
  birthday: new Date(1951, 6, 28),
  cats: [
    new Cat('Garfield')
  ],
  adoptCat(cat: Cat) {
    this.cats.push(cat);
  }
};
</code></pre>
</section>

<section>
  <h1>Class implements interface</h1>
  <pre><code class="typescript" data-trim>
class User implements CatOwner {
  public cats: Cat[] = []; // init
  constructor(
    public name: string,   // init
    public birthday: Date, // init
    // New instance property
    public email: Date,
  ) {}
  public adoptCat(cat: Cat) {
    this.cats.push(cat);
  }
}
</code></pre>
</section>

<section>
  <h1>Intersection types</h1>
<pre><code class="typescript" data-trim>
interface Serializable {
  serialize: () => string
}
type SerializableCatOwner =
  CatOwner & Serializable;
const serialJon: SerializableCatOwner = {
  ...jon,
  serialize() {
    return JSON.stringify(this)
  }
};
</code></pre>
</section>

<section>
  <h1>Union types</h1>
<pre><code class="typescript" data-trim>
class Cat {
  constructor(public name: string) {}
  meow() {
    console.log(`${this.name} says meow!`);
  }
}
class Dog {
  constructor(public name: string) {}
  woof() {
    console.log(`${this.name} says woof!`);
  }
}
type Pet = Cat | Dog;
</code></pre>
</section>

<section>
  <h1>Using a union type</h1>
<pre><code class="typescript" data-trim>
class PetOwner {
  public pets: Pet[] = [];
  constructor(public name: string) {}
  adoptPet(pet: Pet) {
    this.pets.push(pet);
  }
}
const jon = new PetOwner('Jon');
jon.adoptPet(new Cat('Garfield'));
jon.adoptPet(new Dog('Laika'));
</code></pre>
</section>

<section>
  <h1>Most common union type</h1>
<pre><code class="typescript" data-trim>
someType | undefined
</code></pre>
  <p>AKA Maybe, Some</p>
</section>

<section>
  <h1>Maybe</h1>
<pre><code class="typescript" data-trim>
const prefix = 'B';
const names = [ 'Anton', 'Berta', /* â€¦ */ ];

let foundName: string | undefined;
for (let i = 0, l = names.length; i &lt; l; i++) {
  const name = names[i];
  if (name.startsWith(prefix)) {
    foundName = name
    break;
  }
}
console.log('found', foundName);
</code></pre>
</section>

<section>
  <h1>Optional properties and parameters</h1>
  <p><code>property?: someType</code> is short for<br><code>property: someType | undefined</code></p>
<pre><code class="typescript" data-trim>
class Cat {
  constructor(public name: string) {}
  birthday?: Date;
  meow(addressee?: string) {
    const to = addressee ||Â 'everyone';
    console.log(`${this.name} says meow to ${to}`);
  }
}
</code></pre>
</section>

<section>
  <h1>Optional properties and parameters</h1>
<pre><code class="typescript" data-trim>
const cat = new Cat('Maru');
cat.meow(); // â€¦ to everyone
cat.meow('you'); // â€¦ to you
</code></pre>
</section>

<section>
  <h1>Optional properties and parameters</h1>
  <p>TypeScript forces you to handle both cases</p>
<pre><code class="typescript" data-trim>
console.log(cat.birthday.getFullYear());
</code></pre>
<p><em style="color: darkred">cat.birthday: Object is possible undefined.</em></p>
</section>

<section>
  <h1>Type assertions</h1>
  <p>Narrow down union types</p>
<pre><code class="typescript" data-trim>
// cat.birthday is a Date or undefined
if (cat.birthday) {
  // cat.birthday is a Date in this branch
  console.log(cat.birthday.getFullYear());
} else {
  // cat.birthday is undefined in this branch
  console.error('ğŸ¤·ğŸ½â€â™‚ï¸');
}
</code></pre>
</section>

<section>
  <h1><span>ğŸ§Ÿâ€â™€ï¸</span> <code>any</code> type <span>ğŸ§Ÿâ€â™‚ï¸</span></h1>
<pre><code class="typescript" data-trim>
let x: any; // undefined
x = 1;
x = '1';
x = {};
</code></pre>
</section>

<section>
  <h1><span>ğŸ§Ÿâ€â™€ï¸</span> <code>any</code> type <span>ğŸ§Ÿâ€â™‚ï¸</span></h1>
  <p><code>any</code> means untyped code.</p>
  <p><code>any</code> is contagious.</p>
  <p>Avoid at all cost!</p>
</section>

<section>
  <h1>Enums</h1>
  <p>A set of constants</p>
<pre><code class="typescript" data-trim>
const ORDER_NEW_STATE = 0;
const ORDER_QUEUED_STATE = 1;
const ORDER_PROCESSED_STATE = 2;
const ORDER_IN_SHIPMENT_STATE = 3;
const ORDER_DELIVERED_STATE = 4;
const ORDER_CANCELED_STATE = 5;
const order: Order = { state: ORDER_NEW_STATE };
</code></pre>
</section>

<section>
  <h1>Enums</h1>
<pre><code class="typescript" data-trim>
enum OrderState {
  New,
  Queued,
  Processed,
  InShipment,
  Delivered,
  Canceled
}
interface Order { state: OrderState }
const order: Order = { state: OrderState.New };
</code></pre>
</section>

<section>
  <h1>Enums</h1>
  <p>Numerical by default (0, 1, 2â€¦)</p>
  <p><code>OrderState</code> is compiled to an object</p>
  <p><code>OrderState.New === 0</code> etc.</p>
  <p>String enums:</p>
<pre><code class="typescript" data-trim>
enum OrderState { New = 'NEW', /* â€¦ */ }
</code></pre>
</section>

<section>
  <h1>Generics</h1>
  <p>A generic type has other types as variables, e.g.</p>
  <p>Array of <em>Cats</em></p>
  <p>Map of <em>ID</em> & <em>Person</em></p>
  <p>Promise of <em>User</em></p>
</section>

<section>
  <h1>Generics</h1>
<pre><code class="typescript" data-trim>
const arrayOfCats: Cat[] = [
  new Cat('Grumpy Cat'),
  new Cat('Maru'),
  new Cat('Lil Bub')
];
const arrayOfCats: Array&lt;Cat> = [
  new Cat('Grumpy Cat'),
  new Cat('Maru'),
  new Cat('Lil Bub')
];
</code></pre>
</section>

<section>
  <h1>Generics</h1>
<pre><code class="typescript" data-trim>
const catsByName = new Map&lt;string, Cat>();
arrayOfCats.forEach((cat) => {
  catsByName.set(cat.name, cat);
})
// Type: Cat | undefined
const cat = catsByName.get('Grumpy Cat');
console.log(cat);
</code></pre>
</section>

<section>
  <h1>Your own generics</h1>
  <p>Example: Tree structure with nodes</p>
<pre><code class="typescript" data-trim>
interface GenericNode&lt;T> {
  data: T;
  children?: GenericNode&lt;T>[];
}
</code></pre>
  <p>Type variable <code>T</code></p>
</section>

<section>
  <h1>Your own generics</h1>
  <p>Example: Category with sub-categories</p>
<pre><code class="typescript" data-trim>
interface Category { name: string; }
const drama: Category  = { name: 'Drama' };
const romance: Category = { name: 'Romance' };

type CategoryNode = GenericNode&lt;Category>;
const categoryTree: CategoryNode = {
  data: drama,
  children: [
    { data: romance }
  ]
};
</code></pre>
</section>

<section>
  <h1>Generic functions</h1>
  <p>More frequent than generic types</p>
  <p>Type information often gets lost,<br>the return type gets <code>any</code></p>
  <p>Input type is variable but determines output type</p>
</section>

<section>
<pre><code class="typescript" data-trim>
function compact(array) {
  const result = [];
  for (let i = 0, l = array.length; i &lt; l; i++) {
    const item = array[i];
    if (!(item === undefined || item === null)) {
      result.push(item);
    }
  }
  return result;
}
// Inferred type: (number | null | undefined)[]
const mixedArray = [ 1, 2, undefined, null, 5 ];
// Inferred type: any[] ğŸ˜§
const arrayOfNumbers = compact(arrayOfNumbers);
</code></pre>
</section>

<section>
<pre><code class="typescript" data-trim>
function compact(array: any[]): any[] {
  const result = [];
  for (let i = 0, l = array.length; i &lt; l; i++) {
    const item = array[i];
    if (!(item === undefined || item === null)) {
      result.push(item);
    }
  }
  return result;
}
// Inferred type: (number | null | undefined)[]
const mixedArray = [ 1, 2, undefined, null, 5 ];
// Type: any[] ğŸ˜•
const arrayOfNumbers = compact(arrayOfNumbers);
</code></pre>
</section>

<section>
<pre><code class="typescript" data-trim>
function compact&lt;T>(array: T[]): T[] {
  const result = [];
  for (let i = 0, l = array.length; i &lt; l; i++) {
    const item = array[i];
    if (!(item === undefined || item === null)) {
      result.push(item);
    }
  }
  return result;
}
// Inferred type: (number | null | undefined)[]
const mixedArray = [ 1, 2, undefined, null, 5 ];
// Type: (number | null | undefined)[] ğŸ˜€ğŸ˜§ğŸ˜Ÿ
const arrayOfNumbers = compact(arrayOfNumbers);
</code></pre>
</section>

<section>
<pre><code class="typescript" data-trim>
function compact&lt;T>(array: (T | undefined |Â null)[]): T[] {
  const result: T[] = [];
  for (let i = 0, l = array.length; i &lt; l; i++) {
    const item = array[i];
    if (!(item === undefined || item === null)) {
      result.push(item); // undefined & null are excluded
    }
  }
  return result;
}
// Inferred type: (number | null | undefined)[]
const mixedArray = [ 1, 2, undefined, null, 5 ];
// Type: number[] ğŸ˜ğŸ˜ğŸ˜
const arrayOfNumbers = compact(arrayOfNumbers);
</code></pre>
</section>

<section>
  <h1>TypeScript compiler options</h1>
  <p>Per default, the configuration is very loose</p>
  <p>You need to activateâ€¦</p>
  <p class="fragment" style="font-size: 250%; text-transform: uppercase; font-family: Phosphate, sans-serif; font-weight: 100; color: darkred; text-shadow: 3px 2px 1.5px rgb(246, 0, 245), -3px -2px 1.5px rgb(0, 217, 255); transition: opacity 2s linear">the strict mode</p>
</section>

<section>
  <h1>Strict Mode</h1>
  <p>Switch that enables several compiler options,<br>most importantly <code>strictNullChecks</code></p>
  <p>In loose mode:</p>
  <pre><code class="typescript">const userName: string = undefined; // valid ğŸ˜±</code></pre>
  <p>In strict mode:</p>
  <pre><code class="typescript">const userName: string = undefined; // invalid ğŸ˜¤</code></pre>
</section>

<section>
  <h1>Strict Mode</h1>
  <p>TypeScript is rather pointless without strict mode.</p>
  <p>It exists to ease the migration from untyped JS to TS.</p>
</section>

<section>
  <h1>Strengths</h1>
  <p>Good entry into statically-typed programming</p>
  <p>Expressive and correct (in strict mode)</p>
  <p>The language and the ecosystem grows and matures</p>
</section>

<section>
  <h1>Strengths</h1>
  <p>Developer productivity (Visual Studio Code)</p>
  <p>Self-documenting code</p>
  <p>Easier refactoring</p>
  <p>Type checks are a thin testing layer</p>
</section>

<section>
  <h1>Strengths</h1>
  <p>Declare the application state as interfaces &rarr;<br>Type checking everywhere</p>
  <p>Works well with Redux, mobx-state-tree etc.</p>
</section>

<section>
  <h1>Strengths</h1>
  <p>Integrates with libraries, frameworks, tools</p>
  <p>Create React App, Angular CLI, Vue CLIâ€¦</p>
  <p><code>npx create-react-app my-app --typescript</code></p>
  <p>Libraries and frameworks are written in TypeScript</p>
</section>

<section>
  <h1>Weaknesses</h1>
  <p>Compiler toolchain is necessary</p>
  <p>ECMAScript vs. TypeScript evolve separately</p>
</section>

<section>
  <h1>Weaknesses</h1>
  <p>TypeScript is Work in Progress</p>
  <p>Some things are incorrect or missing</p>
  <p>The error messages are cryptic</p>
  <p>Workaround: Declare types explicitly and early</p>
</section>

<section>
  <h1>Weaknesses</h1>
  <p>After compilation, itâ€™s plain JavaScript</p>
  <p>Type definitions may be incorrect</p>
  <p>ğŸŒˆ Typed fantasy dream land vs.<br>â›ˆï¸ untyped JavaScript land</p>
</section>

<section>
  <h1>Resources</h1>
  <p><a href="https://www.typescriptlang.org/">typescriptlang.org</a></p>
  <p><a href="https://www.typescriptlang.org/play/">Playground</a></p>
  <p><a href="https://mariusschulz.com/blog/series/typescript-evolution">Marius Schulzâ€™ articles</a></p>
  <p><a href="https://github.com/typescript-cheatsheets/react-typescript-cheatsheet">React+TypeScript Cheatsheets</a></p>
  <p><a href="https://github.com/Microsoft/TypeScript/tree/master/lib">Type definitions for ES, Browser, Node etc.</a></p>
</section>

<section>
  <h1>Questions? ğŸ™‹ Remarks? </h1>
</section>

<section>
  <h1><span>ğŸ‹ğŸ½â€â™€ï¸</span> Thanks! <span>ğŸ§˜ğŸ¾â€â™€ï¸</span></h1>
  <p>Slides:<br><a href="https://molily.de/typescript/">molily.de/typescript/</a></p>
</section>

<!-- ###################################################################### -->
      </div>
    </div>

    <script src="js/reveal.js"></script>

    <script>
      // More info about config & dependencies:
      // - https://github.com/hakimel/reveal.js#configuration
      // - https://github.com/hakimel/reveal.js#dependencies
      Reveal.initialize({
        controls: false,
        history: true,
        slideNumber: true,
        transition: 'fade',
        dependencies: [
          { src: 'plugin/highlight/highlight.js', async: true, condition: function () { return !!document.querySelector('pre code'); }, callback: function () { hljs.initHighlightingOnLoad(); } }
        ]
      });
    </script>
  </body>
</html>
